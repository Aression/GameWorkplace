# 安装和使用指南

## 安装方法

### 方法一：使用发布版（推荐）

1. 从发布页面下载最新版本的程序压缩包
2. 解压到任意位置
3. 双击运行"战雷连杀导出工具.exe"

### 方法二：从源码运行

1. 确保安装了Python 3.8或更高版本
2. 安装必要的依赖：
   ```
   pip install -r requirements.txt
   ```
3. 运行主程序：
   ```
   python wt_killstreak_exporter.py
   ```

## FFmpeg安装（必需）

本程序依赖FFmpeg进行视频处理。如果您的电脑尚未安装FFmpeg，请按照以下步骤安装：

### Windows

1. 访问[FFmpeg官网](https://ffmpeg.org/download.html)或[FFmpeg Windows builds](https://www.gyan.dev/ffmpeg/builds/)
2. 下载"essentials"版本
3. 解压到合适的位置（例如C:\FFmpeg）
4. 将解压后的bin目录（包含ffmpeg.exe和ffprobe.exe）添加到系统环境变量PATH中
   - 右键"此电脑" -> 属性 -> 高级系统设置 -> 环境变量
   - 在系统变量中找到Path，点击编辑
   - 点击"新建"，添加bin目录的完整路径（如C:\FFmpeg\bin）
   - 点击确定保存

或者，简单地将ffmpeg.exe和ffprobe.exe复制到本程序的同一目录下也可以正常工作。

## 使用方法

1. 启动程序后，您将看到主界面
2. 设置输入目录（《战争雷霆》录像所在文件夹）
3. 设置输出目录（导出的连杀视频将保存的位置）
4. 调整参数：
   - 击杀前保留：第一次击杀前保留多少秒（默认10秒）
   - 击杀后保留：最后一次击杀后保留多少秒（默认5秒）
   - 连杀间隔：两次击杀之间的最大间隔秒数（默认30秒）
   - 最少击杀：构成连杀的最少击杀数（默认2次）
5. 点击"开始处理"按钮
6. 等待处理完成，日志区域会显示处理进度
7. 处理完成后，点击"打开输出目录"即可查看导出的视频

## 故障排除

如果程序无法正常工作，请检查：

1. 是否能正确运行FFmpeg命令？在命令行中尝试执行：
   ```
   ffmpeg -version
   ffprobe -version
   ```

2. 输入目录中的视频文件命名是否符合要求？
   文件名应该类似：`War Thunder 2024.06.18 - 19.29.51.02.DVR.mp4`

3. 是否有足够的磁盘空间用于输出视频？

4. 系统是否有足够的内存和处理能力？视频处理可能需要较长时间。

如有任何问题，请查看程序日志输出或参考README.md中的常见问题解答。 